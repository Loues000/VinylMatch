<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VINYL MATCH — Home</title>

  <!-- Header Styles laden -->
  <link rel="stylesheet" href="/common/header.css">

  <!-- Restliche Home-Seite Styles -->
  <link rel="stylesheet" href="/styles/home.css">
</head>
<body>
<div id="header"></div>

<div id="global-loading" class="loading-overlay hidden" role="alert" aria-live="assertive">
  <div class="spinner" aria-hidden="true"></div>
  <p id="global-loading-text">Playlist wird geladen …</p>
</div>

<div class="page-container" id="home-page">
  <button type="button" class="sidebar-toggle" id="sidebar-toggle" aria-controls="home-sidebar" aria-expanded="true">
    Filter &amp; Playlists
  </button>
  <div class="sidebar-backdrop hidden" id="sidebar-backdrop"></div>
  <aside class="sidebar" id="home-sidebar">
    <h3>Playlists</h3>
    <div class="sidebar-tabs" role="tablist" aria-label="Playlist-Quellen">
      <button id="recent-tab" class="sidebar-tab active" type="button" role="tab" aria-selected="true" aria-controls="recent-panel" data-target="recent-panel">
        Verlauf
      </button>
      <button id="user-tab" class="sidebar-tab" type="button" role="tab" aria-selected="false" aria-controls="user-panel" data-target="user-panel" disabled>
        Deine Playlists
      </button>
    </div>

    <div class="sidebar-panel" id="recent-panel" role="tabpanel" aria-labelledby="recent-tab">
      <div id="recent-list" class="recent-list"></div>
      <p class="sidebar-empty" data-context="recent">Noch keine zuletzt geöffneten Playlists.</p>
    </div>

    <div class="sidebar-panel hidden" id="user-panel" role="tabpanel" aria-labelledby="user-tab" aria-disabled="true">
      <div id="user-controls" class="user-controls hidden">
        <label class="user-search" for="user-playlist-search">
          <span class="sr-only">Playlists durchsuchen</span>
          <input type="search" id="user-playlist-search" placeholder="Playlists durchsuchen" autocomplete="off" />
        </label>
        <label class="user-sort" for="user-playlist-sort">
          <span>Sortieren nach</span>
          <select id="user-playlist-sort">
            <option value="name-asc">Name (A–Z)</option>
            <option value="name-desc">Name (Z–A)</option>
            <option value="tracks-desc">Songs (absteigend)</option>
            <option value="tracks-asc">Songs (aufsteigend)</option>
          </select>
        </label>
      </div>
      <div id="user-playlist-list" class="recent-list"></div>
      <div id="user-pagination" class="user-pagination hidden" aria-live="polite">
        <button type="button" class="pager-btn" id="user-prev-page" aria-label="Vorherige Seite">‹</button>
        <span id="user-page-info">Seite 1 von 1</span>
        <button type="button" class="pager-btn" id="user-next-page" aria-label="Nächste Seite">›</button>
      </div>
      <p id="user-status" class="sidebar-status" aria-live="polite"></p>
      <p class="sidebar-empty" data-context="user">Melde dich mit Spotify an, um deine Playlists zu sehen.</p>
    </div>
  </aside>

  <main>
    <div class="hero">
      <img src="/design/VM_Logo.png" alt="VINYL MATCH" onerror="this.style.display='none'" />
    </div>

    <div class="paste-panel">
      <h2>Paste your Spotify playlist link</h2>
      <p class="help">Füge hier den Link zu deiner Spotify-Playlist ein und klicke auf "Use link".</p>

      <div class="input-row">
        <textarea id="playlist-url" placeholder="https://open.spotify.com/playlist/…"></textarea>
        <div class="actions">
          <button class="btn" id="use-link" type="button">Use link</button>
        </div>
      </div>

      <div id="generated-links" class="generated-links" aria-live="polite">
        <p>API Link: <a id="api-link" href="#" target="_blank" rel="noopener noreferrer"></a></p>
        <p>Playlist Page: <a id="playlist-page-link" href="#"></a></p>
      </div>
    </div>
  </main>
</div>

<!-- Dein TS/JS -->
<script type="module" src="/dist/main.js"></script>
</body>
</html>
